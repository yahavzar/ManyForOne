<!DOCTYPE html>
<html style="font-size: 16px;" xmlns="http://www.w3.org/1999/html">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta charset="utf-8">
    <meta name="keywords"
          content="Learn, The Science of Gastronomy, 01, 02, 03, 04, Online Cooking Classes, Course structure, Cooking Vegetables, Chefs Boot Camp for Policy and Change​, Healthy food, Contact us">
    <meta name="description" content="">
    <meta name="page_type" content="np-template-header-footer-from-plugin">
    <title>Home</title>
    <link rel="stylesheet" href="../static/css/nicepage.css" media="screen">
    <link rel="stylesheet" href="../static/css/Home.css" media="screen">
    <script class="u-script" type="text/javascript" src="../static/css/jquery.js" defer=""></script>
    <script class="u-script" type="text/javascript" src="../static/css/nicepage.js" defer=""></script>
    <meta name="generator" content="Nicepage 3.11.0, nicepage.com">
    <link id="u-theme-google-font" rel="stylesheet"
          href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i,800,800i|Archivo+Black:400">
    <link id="u-page-google-font" rel="stylesheet"
          href="https://fonts.googleapis.com/css?family=Roboto+Condensed:300,300i,400,400i,700,700i|Archivo+Black:400">
    <script src='https://api.mapbox.com/mapbox-gl-js/v2.1.1/mapbox-gl.js'></script>
    <script src="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-geocoder/v4.7.0/mapbox-gl-geocoder.min.js"></script>
    <link rel="stylesheet"
          href="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-geocoder/v4.7.0/mapbox-gl-geocoder.css"
          type="text/css">
    <link href='https://api.mapbox.com/mapbox-gl-js/v2.1.1/mapbox-gl.css' rel='stylesheet'/>
    <meta name='viewport' content='width=device-width, initial-scale=1'/>
    <link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet">
    <script src='https://api.tiles.mapbox.com/mapbox-gl-js/v2.2.0/mapbox-gl.js'></script>
    <link href='https://api.tiles.mapbox.com/mapbox-gl-js/v2.2.0/mapbox-gl.css' rel='stylesheet'/>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src='https://unpkg.com/@turf/turf/turf.min.js'></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@turf/turf@5/turf.min.js"></script>


    <script type="application/ld+json">{
        "@context": "http://schema.org",
        "@type": "Organization",
        "name": "",
        "url": "index.html"
    }</script>
    <meta property="og:title" content="Home">
    <meta property="og:type" content="website">
    <meta name="theme-color" content="#478ac9">
    <link rel="canonical" href="/">
    <meta property="og:url" content="index.html">
</head>
<body class="u-body">
<header class="u-clearfix u-header u-image u-sticky u-header" id="sec-ddeb" data-image-width="3500"
        data-image-height="2500">
    {% if username is defined %}
    <a href="/Profile" data-page-id="113581481"
       class="u-btn u-btn-round u-button-style u-custom-color-8 u-hover-custom-color-9 u-radius-50 u-btn-1">Profile</a>
    <a href="/Logout" data-page-id="3023120586"
       class="u-btn u-btn-round u-button-style u-custom-color-8 u-hover-custom-color-9 u-radius-50 u-btn-2">Logout</a>
    {% else %}
    <a href="/Register" data-page-id="113581481"
       class="u-btn u-btn-round u-button-style u-custom-color-8 u-hover-custom-color-9 u-radius-50 u-btn-1">Register</a>
    <a href="/Login" data-page-id="3023120586"
       class="u-btn u-btn-round u-button-style u-custom-color-8 u-hover-custom-color-9 u-radius-50 u-btn-2">Login</a>
    {% endif %}
    <h6 class="u-text u-text-custom-color-8 u-text-1"><a
            class="u-active-none u-border-none u-btn u-button-link u-button-style u-hover-none u-none u-text-custom-color-8 u-btn-3"
            href="/" data-page-id="75023048">Many for One</a>
    </h6>
    <div class="u-align-left u-border-1 u-border-grey-15 u-expanded-width u-line u-line-horizontal u-line-1"></div>
</header>
<section class="u-align-left u-border-2 u-border-grey-75 u-clearfix u-image u-section-1" id="sec-9885"
         data-image-width="3830" data-image-height="2535">
    <div class="u-clearfix u-sheet u-sheet-1">
        <h1 class="u-align-center u-text u-text-custom-color-8 u-text-1">Many for ​One</h1>
        <h5 class="u-align-center u-text u-text-custom-color-9 u-text-2">Food Donations! Good Deeds For Those In Need</h5>
    </div>
</section>
<section class="u-clearfix u-image u-valign-middle u-section-2" id="sec-49b1" data-image-width="3840"
         data-image-height="2400">
    <style>
.outer
{
    width:100%;
    text-align: center;

}
.outer1
{
    width:100%;
    text-align: center;

}
.inner
{
        width:auto;

    display: inline-block;
          transform: translate(50px,0px); /* Standard syntax */

}



    </style>
    <script>
function myFunction () {
  $(this).toggleClass("u-custom-color-9 u-button-style");
};
   function changeValue(unid){
       if(document.getElementById(unid).value==0){
                document.getElementById(unid).value=1;
       }
       else
       {
           document.getElementById(unid).value=0;
       }
    }


    </script>

    <form action="/filter" method="POST">
        <div id="outer">
            <a href="/newDonation" data-page-id="84001340"
               class="u-btn u-btn-round u-button-style u-custom-color-9   u-palette-2-base inner">Add Donation</a>

            <input type="button" onclick="myFunction.call(this);changeValue('tagger_view')"
                   class="u-btn u-btn-round u-button-style u-custom-color-9   u-palette-2-base  inner"
                   value="Tagger View">
            <input type="hidden" id="tagger_view" name="tagger_view" value=0>

            <input type="button" onclick="myFunction.call(this);changeValue('volunteer_view')"
                   class="u-btn u-btn-round u-button-style u-custom-color-9   u-palette-2-base  inner"
                   value="Volunteer View">
            <input type="hidden" id="volunteer_view" name="volunteer_view" value=0>

            <input type="button" onclick="myFunction.call(this);changeValue('recommendations_view')"
                   class="u-btn u-btn-round u-button-style u-custom-color-9   u-palette-2-base  inner"
                   value="Show Recommendations">
            <input type="hidden" id="recommendations_view" name="recommendations_view" value=0>

        </div>
        <div id="outer1">
            <input type="button" onclick="myFunction.call(this);changeValue('kosher')"
                   class="u-btn u-btn-round u-button-style u-custom-color-9  u-palette-2-base  inner" value="Kosher">
            <input type="hidden" id="kosher" name="kosher" value=0>

            <input type="button" onclick="myFunction.call(this);changeValue('Meat')"
                   class="u-btn u-btn-round u-button-style u-custom-color-9  u-palette-2-base  inner" value="Meat">
            <input type="hidden" id="Meat" name="Meat" value=0>

            <input type="button" onclick="myFunction.call(this);changeValue('Dairy')"
                   class="u-btn u-btn-round u-button-style u-custom-color-9   u-palette-2-base  inner" value="Dairy">
            <input type="hidden" id="Dairy" name="Dairy" value=0>

            <input type="button" onclick="myFunction.call(this);changeValue('Vegan')"
                   class="u-btn u-btn-round u-button-style u-custom-color-9   u-palette-2-base inner" value="Vegan">
            <input type="hidden" id="Vegan" name="Vegan" value=0>

            <input type="button" onclick="myFunction.call(this);changeValue('gluten')"
                   class="u-btn u-btn-round u-button-style u-custom-color-9   u-palette-2-base  inner"
                   value="Gluten Free">
            <input type="hidden" id="gluten" name="gluten" value=0>


            <input type="text" name="radius" class="u-btn u-btn-round u-button-style u-custom-color-9  inner"
                   width="5px" placeholder="Radius Search" value={{request.form.radius | safe}}>
            <input type="text" name="location" class="u-btn u-btn-round u-button-style u-custom-color-9  inner"
                   width="5px" placeholder="Update location" value="{{request.form.location | safe}}">
             <select class="u-btn u-btn-round u-button-style u-custom-color-9  inner" width="7px" name="tags_search" multiple>

                    {% for tag in tags %}
                    <option value= "{{tag}}" >{{tag}}</option>"
                    {% endfor %}


                </select>
            <button type=submit class="u-btn u-btn-round u-button-style u-custom-color-9   u-palette-2-base  inner">
                Update Map
            </button>
        </div>
    </form>
    <img src="../static/images/compass-rose-png-7.png" alt="" class="u-image u-image-default u-image-1"
         data-image-width="320" data-image-height="308">

    <style>
.center {

  transform: translate(50px,4px); /* Standard syntax */
}

element.style {
}
button, html [type="button"], [type="reset"], [type="submit"] {
    -webkit-appearance: button;
}
.mapboxgl-popup-close-button {
    position: absolute;
    right: 0;
    top: 0;
    border: 0;
    border-radius: 0 300px 0 0;
    cursor: pointer;
    background-color: transparent;
}
.mapboxgl-popup {
max-width: 700px;
font: 12px/20px 'Helvetica Neue', Arial, Helvetica, sans-serif;
}

.mapboxgl-popup-close-button {
  display: none;
}
.mapboxgl-popup-content {
  padding: 0;
}




    </style>
    <div class="center" id='map' style='width: 85%; height: 1000px;'></div>

    <script>
	// TO MAKE THE MAP APPEAR YOU MUST
	// ADD YOUR ACCESS TOKEN FROM
	// https://account.mapbox.com
	mapboxgl.accessToken = 'pk.eyJ1IjoieWFoYXZ6YXJmYXRpIiwiYSI6ImNrbnZ1NnkyZzBxYWYycXJ2ZTEyMGR1eTYifQ.B4LS0v9ClG3yiF0mn3TGLA';
var map = new mapboxgl.Map({
container: 'map',
style: 'mapbox://styles/mapbox/streets-v11',
center: eval({{location_cordinate| safe}}),
zoom: 11.15
});


// Add the control to the map.
map.addControl(
new MapboxGeocoder({
accessToken: mapboxgl.accessToken,
mapboxgl: mapboxgl
}));
// Add zoom and rotation controls to the map.
map.addControl(new mapboxgl.NavigationControl());
    var json_input = '{{ input_json|safe }}';
    json_input = json_input.replaceAll("\"/Donations", "\'/Donations").replaceAll("\" style=\"border","\' style=\'border").replaceAll("border:2px solid black;\" height=\"430\" width=\"700\" title=\"Iframe Example\"",
                                                                "border:2px solid black;\' height=\'430\' width=\'700\' title=\'Iframe Example\'");
    var donations_json = JSON.parse(json_input);
    map.on('load', function () {
map.loadImage(
'static/mapbox markers/mapbox-marker-icon-20px-blue.png',
function (error, image) {

    if (error) throw error;

    map.addImage('custom-marker-blue', image);
        });

map.loadImage(
'static/mapbox markers/mapbox-marker-icon-20px-red.png',
function (error, image) {

    if (error) throw error;

    map.addImage('custom-marker-red', image);
        });


    map.addSource('places', donations_json);

     map.addLayer({
        id: 'search-radius',
        source: {
          type: 'geojson',
          data: { "type": "FeatureCollection", "features": [] }
        },
        type: 'fill',
        paint: {
          'fill-color': '#ff0000',
          'fill-opacity': 0.1
        }
      });

// Add a layer showing the places.
    map.addLayer({
        'id': 'places',
        'type': 'symbol',
        'source': 'places',
        'layout': {
            'icon-image': 'custom-marker-blue',
            'icon-allow-overlap': true
        }
    });
 map.addLayer({
        id: 'in-radius',
        source: {
          type: 'geojson',
          data: { "type": "FeatureCollection", "features": [] }
        },
        type: 'symbol',
        layout: {
           'icon-image': 'custom-marker-red',
           'icon-allow-overlap': true
           }
      });
     map.on('click', function(e) {
      var eventLngLat = [e.lngLat.lng, e.lngLat.lat];

       function makeRadius(lngLatArray, radiusInMeters) {
      var location = eval('{{location | safe}}');
        if (location==null|| location==0) {
            var point = turf.point(lngLatArray);
        }
        else
        {
            var point = turf.point(location);

        }
      var buffered = turf.buffer(point, radiusInMeters, { units: 'meters' });
      return buffered;
    }
        var Radius = '{{radius | safe}}';
      var searchRadius = makeRadius(eventLngLat, Radius);
  map.getSource('search-radius').setData(searchRadius);

     function spatialJoin(sourceGeoJSON, filterFeature) {
      // Loop through all the features in the source geojson and return the ones that
      // are inside the filter feature (buffered radius) and are confirmed landing sites
      var joined = sourceGeoJSON.data.features.filter(function (feature) {

             return turf.booleanPointInPolygon(feature, filterFeature)
      });

      return joined;
    }
      var featuresInBuffer = spatialJoin(donations_json, searchRadius);
        map.getSource('in-radius').setData(turf.featureCollection(featuresInBuffer));




    });

// When a click event occurs on a feature in the places layer, open a popup at the
// location of the feature, with description HTML from its properties.
    map.on('click', 'places', function (e) {
        var coordinates = e.features[0].geometry.coordinates.slice();
        var description = e.features[0].properties.description;

// Ensure that if the map is zoomed out such that multiple
// copies of the feature are visible, the popup appears
// over the copy being pointed to.
        while (Math.abs(e.lngLat.lng - coordinates[0]) > 180) {
            coordinates[0] += e.lngLat.lng > coordinates[0] ? 360 : -360;
        }

        new mapboxgl.Popup()
            .setLngLat(coordinates)
            .setHTML(description)
            .addTo(map);
    });

// Change the cursor to a pointer when the mouse is over the places layer.
    map.on('mouseenter', 'places', function () {
        map.getCanvas().style.cursor = 'pointer';
    });

// Change it back to a pointer when it leaves.
    map.on('mouseleave', 'places', function () {
        map.getCanvas().style.cursor = '';
    });
});




    </script>
    <img src="../static/images/pathicon.webp" alt="" class="u-image u-image-default u-preserve-proportions u-image-2"
         data-image-width="512" data-image-height="512">
</section>
<section class="u-align-center u-clearfix u-section-3" id="carousel_e567">
    <div class="u-expanded-width u-shape u-shape-svg u-text-custom-color-10 u-shape-1">
        <svg class="u-svg-link" preserveAspectRatio="none" viewBox="0 0 160 80" style="">
            <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#svg-0b7f"></use>
        </svg>
        <svg class="u-svg-content" viewBox="0 0 160 80" x="0px" y="0px" id="svg-0b7f"
             style="enable-background:new 0 0 160 80;">
            <path d="M160,0H0c0,44.2,35.8,80,80,80S160,44.2,160,0z"></path>
        </svg>
    </div>
    <h1 class="u-custom-font u-text u-text-body-alt-color u-text-1">Top Volunteers</h1>
    <div class="u-clearfix u-layout-wrap u-layout-wrap-1">

        <div class="u-gutter-0 u-layout">
            <div class="u-layout-row">
                <div class="u-container-style u-layout-cell u-size-12 u-size-20-md u-layout-cell-1">
                    <div class="u-container-layout u-container-layout-1">
                        {% if top5[3].picture != None %}
                        <img src="{{top5[3].picture}}" class="u-image u-image-circle u-preserve-proportions u-image-11"
                             data-image-width="512" data-image-height="512"/>
                        {% else %}
                        <div class="u-image u-image-circle u-preserve-proportions u-image-1"
                             data-image-width="512" data-image-height="512"></div>
                        {% endif %}
                        <div class="u-clearfix u-custom-html u-expanded-width u-custom-html-1">
                            <style></style>
                                                    {% if top5[3] != None %}
                            <h2>{{top5[3].name.title()}}</h2>
                                                    {% else %}
                            <h2>{{top5[3].name}}</h2>
                        {% endif %}

                            <p>{{top5[3].status_text}}</p>
                        </div>
                    </div>
                </div>
                <div class="u-container-style u-layout-cell u-size-12 u-size-20-md u-layout-cell-2">
                    <div class="u-container-layout u-container-layout-2">
                        {% if top5[1].picture != None %}
                        <img src="{{top5[1].picture}}" class="u-image u-image-circle u-preserve-proportions u-image-22"
                             data-image-width="512" data-image-height="512"/>
                        {% else %}
                        <img src="../static/images/user.png"
                             class="u-image u-image-circle u-preserve-proportions u-image-22"
                             data-image-width="512" data-image-height="512"/>
                        {% endif %}
                        <div class="u-clearfix u-custom-html u-expanded-width u-custom-html-2">
                            <style></style>
                                                    {% if top5[1] != None %}
                            <h2>{{top5[1].name.title()}}</h2>
                                                    {% else %}
                            <h2>{{top5[1].name}}</h2>
                        {% endif %}
                            <p>{{top5[1].status_text}}</p>
                        </div>
                    </div>
                </div>
                <div class="u-container-style u-layout-cell u-size-12 u-size-20-md u-layout-cell-3">
                    <div class="u-container-layout u-container-layout-3}">
                        {% if top5[0].picture != None %}
                        <img src="{{top5[0].picture}}" class="u-image u-image-circle u-preserve-proportions u-image-33"
                             data-image-width="512" data-image-height="512"/>
                        {% else %}
                        <img src="../static/images/user.png"
                             class="u-image u-image-circle u-preserve-proportions u-image-22"
                             data-image-width="512" data-image-height="512"/>
                        {% endif %}
                        <div class="u-clearfix u-custom-html u-custom-html-3">
                            <style></style>
                                                    {% if top5[0] != None %}
                            <h2>{{top5[0].name.title()}}</h2>
                                                    {% else %}
                            <h2>{{top5[0].name}}</h2>
                        {% endif %}
                            <p>{{top5[0].status_text}}</p>
                        </div>
                    </div>
                </div>
                <div class="u-container-style u-layout-cell u-size-12 u-size-30-md u-layout-cell-4">
                    <div class="u-container-layout u-container-layout-4">
                        {% if top5[2].picture != None %}
                        <img src="{{top5[2].picture}}" class="u-image u-image-circle u-preserve-proportions u-image-44"
                             data-image-width="512" data-image-height="512"/>
                        {% else %}
                        <img src="../static/images/user.png"
                             class="u-image u-image-circle u-preserve-proportions u-image-22"
                             data-image-width="512" data-image-height="512"/>
                        {% endif %}
                        <div class="u-clearfix u-custom-html u-expanded-width u-custom-html-4">
                            <style></style>
                                                    {% if top5[2] != None %}
                            <h2>{{top5[2].name.title()}}</h2>
                                                    {% else %}
                            <h2>{{top5[2].name}}</h2>
                        {% endif %}
                            <p>{{top5[2].status_text}}</p>
                        </div>
                    </div>
                </div>
                <div class="u-container-style u-layout-cell u-size-12 u-size-30-md u-layout-cell-5">
                    <div class="u-container-layout u-container-layout-5">
                        {% if top5[4].picture != None %}
                        <img src="{{top5[4].picture}}" class="u-image u-image-circle u-preserve-proportions u-image-55"
                             data-image-width="512" data-image-height="512"/>
                        {% else %}
                        <img src="../static/images/user.png"
                             class="u-image u-image-circle u-preserve-proportions u-image-22"
                             data-image-width="512" data-image-height="512"/>
                        {% endif %}
                    <div class="u-clearfix u-custom-html u-expanded-width u-custom-html-5">
                        <style></style>
                                                    {% if top5[4]!= None %}
                            <h2>{{top5[4].name.title()}}</h2>
                                                    {% else %}
                            <h2>{{top5[4].name}}</h2>
                        {% endif %}
                        <p>{{top5[4].status_text}}</p>
                    </div>
                </div>
            </div>
                                    </div>



        </div>
    </div>
</section>


<footer class="u-align-center u-clearfix u-custom-color-8 u-footer u-footer" id="sec-6768">
    <div class="u-clearfix u-sheet u-sheet-1">
        <p class="u-small-text u-text u-text-variant u-text-1">
            <span style="font-size: 1.5rem;">Created by Yahav, Adi, Shirly &amp; Or</span>
        </p>
    </div>
</footer>
</body>
</html>